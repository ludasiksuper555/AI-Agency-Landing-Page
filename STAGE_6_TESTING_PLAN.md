# üß™ –î–µ—Ç–∞–ª—å–Ω–∏–π –ü–ª–∞–Ω –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è - –ï—Ç–∞–ø 6: PWA —Ç–∞ –ë–µ–∑–ø–µ–∫–∞

## üìã –ó–∞–≥–∞–ª—å–Ω–∏–π –û–≥–ª—è–¥

**–ï—Ç–∞–ø:** 6 - Security and PWA functionality
**–°—Ç–∞—Ç—É—Å:** üîÑ Ready to Start
**–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç:** High
**–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:** 1.25 –≥–æ–¥–∏–Ω–∏ (18:00-19:15)
**–ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:** 30% ‚Üí 60%

---

## üéØ –¶—ñ–ª—ñ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –û—Å–Ω–æ–≤–Ω—ñ —Ü—ñ–ª—ñ:

1. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –±–µ–∑–ø–µ–∫—É –¥–æ–¥–∞—Ç–∫—É (CSP, –∑–∞–≥–æ–ª–æ–≤–∫–∏, rate limiting)
2. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ PWA —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å (Service Worker, Manifest, offline)
3. ‚úÖ –í–∞–ª—ñ–¥—É–≤–∞—Ç–∏ push-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è PWA
4. ‚úÖ –ó–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –±–µ–∑–ø–µ–∫–∏ ISO 27001

### –ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É:

- üîí –í—Å—ñ —Ç–µ—Å—Ç–∏ –±–µ–∑–ø–µ–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ñ
- üì± PWA –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è —Ç–∞ –ø—Ä–∞—Ü—é—î –æ—Ñ–ª–∞–π–Ω
- üîî Push-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω—É—é—Ç—å
- üìä –ü–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏ >85%

---

## üîí –ë–õ–û–ö 1: –¢–ï–°–¢–ò –ë–ï–ó–ü–ï–ö–ò

### TC-SEC-001: –ê—É–¥–∏—Ç –ë–µ–∑–ø–µ–∫–∏ –ó–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```yaml
ID: TC-SEC-001
–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: CRITICAL
–¢–∏–ø: Security Audit
–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è: 15 —Ö–≤–∏–ª–∏–Ω

–û–ø–∏—Å: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π

–ü–µ—Ä–µ–¥—É–º–æ–≤–∏:
- Node.js –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
- package.json —ñ—Å–Ω—É—î
- npm audit –¥–æ—Å—Ç—É–ø–Ω–∏–π

–ö—Ä–æ–∫–∏:
1. –í—ñ–¥–∫—Ä–∏—Ç–∏ —Ç–µ—Ä–º—ñ–Ω–∞–ª –≤ –∫–æ—Ä–µ–Ω–µ–≤—ñ–π –ø–∞–ø—Ü—ñ –ø—Ä–æ–µ–∫—Ç—É
2. –í–∏–∫–æ–Ω–∞—Ç–∏: npm audit
3. –í–∏–∫–æ–Ω–∞—Ç–∏: npm audit --audit-level=critical
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–≤—ñ—Ç –Ω–∞ –∫—Ä–∏—Ç–∏—á–Ω—ñ —É—è–∑–≤–∏–º–æ—Å—Ç—ñ
5. –í–∏–∫–æ–Ω–∞—Ç–∏: npm audit fix (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)

–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ù–µ–º–∞—î –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π (0 critical)
- ‚úÖ –ù–µ–º–∞—î –≤–∏—Å–æ–∫–∏—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π (0 high)
- ‚úÖ Exit code = 0

–ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–æ–≤–∞–ª—É:
- ‚ùå –ó–Ω–∞–π–¥–µ–Ω–æ –∫—Ä–∏—Ç–∏—á–Ω—ñ —É—è–∑–≤–∏–º–æ—Å—Ç—ñ
- ‚ùå npm audit –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ–º–∏–ª–∫—É
```

### TC-SEC-002: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ CSP –ó–∞–≥–æ–ª–æ–≤–∫—ñ–≤

```yaml
ID: TC-SEC-002
–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: HIGH
–¢–∏–ø: Security Headers
–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è: 20 —Ö–≤–∏–ª–∏–Ω

–û–ø–∏—Å: –í–∞–ª—ñ–¥–∞—Ü—ñ—è Content Security Policy –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤

–ü–µ—Ä–µ–¥—É–º–æ–≤–∏:
- –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω–æ (npm run dev)
- –ë—Ä–∞—É–∑–µ—Ä –∑ DevTools
- CSP –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –≤ middleware

–ö—Ä–æ–∫–∏:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–∏: npm run dev
2. –í—ñ–¥–∫—Ä–∏—Ç–∏ http://localhost:3000
3. –í—ñ–¥–∫—Ä–∏—Ç–∏ DevTools ‚Üí Network
4. –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É
5. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ Response Headers:
   - Content-Security-Policy
   - X-Frame-Options: DENY
   - X-Content-Type-Options: nosniff
   - Referrer-Policy: strict-origin-when-cross-origin
6. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ Console –Ω–∞ CSP violations

–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ CSP –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø—Ä–∏—Å—É—Ç–Ω—ñ–π
- ‚úÖ –í—Å—ñ security headers –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ
- ‚úÖ –ù–µ–º–∞—î CSP violations –≤ –∫–æ–Ω—Å–æ–ª—ñ
- ‚úÖ Script-src, style-src, img-src –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ

–¢–µ—Å—Ç CSP:
- script-src: 'self' 'unsafe-inline' https://www.googletagmanager.com
- style-src: 'self' 'unsafe-inline' https://fonts.googleapis.com
- font-src: 'self' https://fonts.gstatic.com
- img-src: 'self' data: https: blob:
```

### TC-SEC-003: Rate Limiting –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```yaml
ID: TC-SEC-003
–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: HIGH
–¢–∏–ø: API Security
–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è: 15 —Ö–≤–∏–ª–∏–Ω

–û–ø–∏—Å: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –æ–±–º–µ–∂–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∑–∞–ø–∏—Ç—ñ–≤

–ü–µ—Ä–µ–¥—É–º–æ–≤–∏:
- API endpoints –¥–æ—Å—Ç—É–ø–Ω—ñ
- Rate limiting middleware –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ
- Postman –∞–±–æ curl

–ö—Ä–æ–∫–∏:
1. –í–∏–∫–æ–Ω–∞—Ç–∏ 100+ –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ /api/test —à–≤–∏–¥–∫–æ:
   for i in {1..105}; do curl http://localhost:3000/api/test; done
2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥–∏
3. –¢–µ—Å—Ç—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ endpoints:
   - /api/auth/* (5 –∑–∞–ø–∏—Ç—ñ–≤ –∑–∞ 15 —Ö–≤–∏–ª–∏–Ω)
   - /api/* (100 –∑–∞–ø–∏—Ç—ñ–≤ –∑–∞ 15 —Ö–≤–∏–ª–∏–Ω)
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏:
   - X-RateLimit-Limit
   - X-RateLimit-Remaining
   - X-RateLimit-Reset

–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ü—ñ—Å–ª—è –ª—ñ–º—ñ—Ç—É –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è 429 Too Many Requests
- ‚úÖ Rate limit headers –ø—Ä–∏—Å—É—Ç–Ω—ñ
- ‚úÖ –†—ñ–∑–Ω—ñ –ª—ñ–º—ñ—Ç–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö endpoints
```

### TC-SEC-004: CORS –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

```yaml
ID: TC-SEC-004
–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: MEDIUM
–¢–∏–ø: API Security
–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è: 10 —Ö–≤–∏–ª–∏–Ω

–û–ø–∏—Å: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ CORS –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å

–ö—Ä–æ–∫–∏:
1. –í–∏–∫–æ–Ω–∞—Ç–∏ preflight –∑–∞–ø–∏—Ç:
   curl -X OPTIONS http://localhost:3000/api/test \
   -H "Origin: https://malicious-site.com" \
   -H "Access-Control-Request-Method: POST"
2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–æ–∑–≤–æ–ª–µ–Ω—ñ origins
3. –¢–µ—Å—Ç—É–≤–∞—Ç–∏ –∑ –¥–æ–∑–≤–æ–ª–µ–Ω–æ–≥–æ origin

–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ó–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ origins –≤—ñ–¥—Ö–∏–ª—è—é—Ç—å—Å—è
- ‚úÖ –î–æ–∑–≤–æ–ª–µ–Ω—ñ origins –ø—Ä–∞—Ü—é—é—Ç—å
- ‚úÖ CORS headers –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ
```

---

## üì± –ë–õ–û–ö 2: PWA –¢–ï–°–¢–ò

### TC-PWA-001: Service Worker –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

```yaml
ID: TC-PWA-001
–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: CRITICAL
–¢–∏–ø: PWA Core
–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è: 20 —Ö–≤–∏–ª–∏–Ω

–û–ø–∏—Å: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏ Service Worker

–ü–µ—Ä–µ–¥—É–º–æ–≤–∏:
- PWA –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ
- Service Worker —Ñ–∞–π–ª —ñ—Å–Ω—É—î (/public/sw.js)
- HTTPS –∞–±–æ localhost

–ö—Ä–æ–∫–∏:
1. –í—ñ–¥–∫—Ä–∏—Ç–∏ http://localhost:3000
2. DevTools ‚Üí Application ‚Üí Service Workers
3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å SW: "Activated and is running"
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–µ—à—É–≤–∞–Ω–Ω—è:
   - DevTools ‚Üí Application ‚Üí Storage ‚Üí Cache Storage
   - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –∫–µ—à–æ–≤–∞–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤
5. –¢–µ—Å—Ç—É–≤–∞—Ç–∏ –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º:
   - DevTools ‚Üí Network ‚Üí Offline
   - –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É
6. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ Background Sync:
   - –ó–∞–ø–æ–≤–Ω–∏—Ç–∏ —Ñ–æ—Ä–º—É –æ—Ñ–ª–∞–π–Ω
   - –£–≤—ñ–º–∫–Ω—É—Ç–∏ –º–µ—Ä–µ–∂—É
   - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é

–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ Service Worker –∞–∫—Ç–∏–≤–Ω–∏–π
- ‚úÖ –†–µ—Å—É—Ä—Å–∏ –∫–µ—à—É—é—Ç—å—Å—è
- ‚úÖ –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º –ø—Ä–∞—Ü—é—î
- ‚úÖ Background sync —Ñ—É–Ω–∫—Ü—ñ–æ–Ω—É—î
- ‚úÖ –ù–µ–º–∞—î –ø–æ–º–∏–ª–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª—ñ
```

### TC-PWA-002: Web App Manifest

```yaml
ID: TC-PWA-002
–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: HIGH
–¢–∏–ø: PWA Installation
–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è: 15 —Ö–≤–∏–ª–∏–Ω

–û–ø–∏—Å: –í–∞–ª—ñ–¥–∞—Ü—ñ—è Web App Manifest

–ö—Ä–æ–∫–∏:
1. –í—ñ–¥–∫—Ä–∏—Ç–∏ DevTools ‚Üí Application ‚Üí Manifest
2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–æ–ª—è manifest.json:
   - name: "Meat Industry Analytics"
   - short_name: "MeatAnalytics"
   - start_url: "/"
   - display: "standalone"
   - theme_color: "#000000"
   - background_color: "#ffffff"
3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —ñ–∫–æ–Ω–∫–∏:
   - 72x72, 96x96, 128x128, 144x144
   - 152x152, 192x192, 384x384, 512x512
4. –¢–µ—Å—Ç—É–≤–∞—Ç–∏ shortcuts
5. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ installability:
   - Chrome ‚Üí Install app prompt

–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ Manifest –≤–∞–ª—ñ–¥–Ω–∏–π
- ‚úÖ –í—Å—ñ —ñ–∫–æ–Ω–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ
- ‚úÖ Shortcuts –ø—Ä–∞—Ü—é—é—Ç—å
- ‚úÖ –î–æ–¥–∞—Ç–æ–∫ –º–æ–∂–Ω–∞ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏
```

### TC-PWA-003: –û—Ñ–ª–∞–π–Ω –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

```yaml
ID: TC-PWA-003
–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: HIGH
–¢–∏–ø: PWA Offline
–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è: 15 —Ö–≤–∏–ª–∏–Ω

–û–ø–∏—Å: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –≤ –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º—ñ

–ö—Ä–æ–∫–∏:
1. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≥–æ–ª–æ–≤–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É
2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –∫—ñ–ª—å–∫–∞ —Å—Ç–æ—Ä—ñ–Ω–æ–∫ –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è
3. DevTools ‚Üí Network ‚Üí Offline
4. –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –ø–æ —Å–∞–π—Ç—É:
   - –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
   - /about
   - /services
   - /offline (—Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∞ –æ—Ñ–ª–∞–π–Ω —Å—Ç–æ—Ä—ñ–Ω–∫–∞)
5. –¢–µ—Å—Ç—É–≤–∞—Ç–∏ —Ñ–æ—Ä–º–∏ –æ—Ñ–ª–∞–π–Ω:
   - –ó–∞–ø–æ–≤–Ω–∏—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—É —Ñ–æ—Ä–º—É
   - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ IndexedDB
6. –£–≤—ñ–º–∫–Ω—É—Ç–∏ –º–µ—Ä–µ–∂—É —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é

–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ö–µ—à–æ–≤–∞–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –≤—ñ–¥–∫—Ä–∏–≤–∞—é—Ç—å—Å—è –æ—Ñ–ª–∞–π–Ω
- ‚úÖ –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è –æ—Ñ–ª–∞–π–Ω —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä
- ‚úÖ –§–æ—Ä–º–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
- ‚úÖ –î–∞–Ω—ñ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—é—Ç—å—Å—è –ø—Ä–∏ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—ñ –º–µ—Ä–µ–∂—ñ
```

### TC-PWA-004: Push –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

```yaml
ID: TC-PWA-004
–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: MEDIUM
–¢–∏–ø: PWA Notifications
–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è: 20 —Ö–≤–∏–ª–∏–Ω

–û–ø–∏—Å: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è push-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

–ü–µ—Ä–µ–¥—É–º–æ–≤–∏:
- VAPID –∫–ª—é—á—ñ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ
- Notification API –¥–æ—Å—Ç—É–ø–Ω–∏–π
- HTTPS –∞–±–æ localhost

–ö—Ä–æ–∫–∏:
1. –í—ñ–¥–∫—Ä–∏—Ç–∏ —Å–∞–π—Ç —Ç–∞ –¥–æ–∑–≤–æ–ª–∏—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—ñ–¥–ø–∏—Å–∫—É:
   - DevTools ‚Üí Application ‚Üí Storage ‚Üí IndexedDB
   - –ó–Ω–∞–π—Ç–∏ push subscription
3. –¢–µ—Å—Ç—É–≤–∞—Ç–∏ –≤—ñ–¥–ø—Ä–∞–≤–∫—É —á–µ—Ä–µ–∑ API:
   POST /api/pwa/notifications
   {
     "title": "Test Notification",
     "body": "This is a test",
     "icon": "/icons/icon-192x192.png"
   }
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
5. –¢–µ—Å—Ç—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å:
   - –°–∏—Å—Ç–µ–º–Ω—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
   - –ü–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
   - –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –¥—ñ—è–º–∏

–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ü—ñ–¥–ø–∏—Å–∫–∞ –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–∞—Ü—é—î
- ‚úÖ –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—å—Å—è
- ‚úÖ –Ü–∫–æ–Ω–∫–∏ —Ç–∞ –¥—ñ—ó –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è
- ‚úÖ –ú–æ–∂–Ω–∞ –≤—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –≤—ñ–¥ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
```

### TC-PWA-005: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è PWA

```yaml
ID: TC-PWA-005
–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: HIGH
–¢–∏–ø: PWA Installation
–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è: 15 —Ö–≤–∏–ª–∏–Ω

–û–ø–∏—Å: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —è–∫ –Ω–∞—Ç–∏–≤–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫

–ö—Ä–æ–∫–∏:
1. –í—ñ–¥–∫—Ä–∏—Ç–∏ —Å–∞–π—Ç –≤ Chrome
2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–æ—è–≤—É install prompt
3. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "Install" –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –º–µ–Ω—é
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è:
   - –Ü–∫–æ–Ω–∫–∞ –Ω–∞ —Ä–æ–±–æ—á–æ–º—É —Å—Ç–æ–ª—ñ
   - –ó–∞–ø—É—Å–∫ —è–∫ –æ–∫—Ä–µ–º–∏–π –¥–æ–¥–∞—Ç–æ–∫
   - –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –∞–¥—Ä–µ—Å–Ω–æ–≥–æ —Ä—è–¥–∫–∞
5. –¢–µ—Å—Ç—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É:
   - –ù–∞–≤—ñ–≥–∞—Ü—ñ—è
   - –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º
   - Push –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
6. –¢–µ—Å—Ç—É–≤–∞—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –¥–æ–¥–∞—Ç–∫—É

–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ Install prompt –∑'—è–≤–ª—è—î—Ç—å—Å—è
- ‚úÖ –î–æ–¥–∞—Ç–æ–∫ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è
- ‚úÖ –ü—Ä–∞—Ü—é—î —è–∫ –Ω–∞—Ç–∏–≤–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫
- ‚úÖ –í—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–æ—Å—Ç—É–ø–Ω—ñ
- ‚úÖ –ú–æ–∂–Ω–∞ –≤–∏–¥–∞–ª–∏—Ç–∏
```

---

## üîß –ë–õ–û–ö 3: –Ü–ù–¢–ï–ì–†–ê–¶–Ü–ô–ù–Ü –¢–ï–°–¢–ò

### TC-INT-001: PWA + Security –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è

```yaml
ID: TC-INT-001
–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: HIGH
–¢–∏–ø: Integration
–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è: 15 —Ö–≤–∏–ª–∏–Ω

–û–ø–∏—Å: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ PWA —Ç–∞ security features

–ö—Ä–æ–∫–∏:
1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ CSP –¥–ª—è PWA —Ä–µ—Å—É—Ä—Å—ñ–≤:
   - Service Worker –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è
   - Manifest –¥–æ—Å—Ç—É–ø–Ω–∏–π
   - –Ü–∫–æ–Ω–∫–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è
2. –¢–µ—Å—Ç—É–≤–∞—Ç–∏ rate limiting –¥–ª—è PWA API:
   - /api/pwa/notifications
   - /api/pwa/sync
3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ CORS –¥–ª—è PWA requests
4. –¢–µ—Å—Ç—É–≤–∞—Ç–∏ security headers –≤ PWA —Ä–µ–∂–∏–º—ñ

–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ PWA –ø—Ä–∞—Ü—é—î –∑ CSP
- ‚úÖ Rate limiting –Ω–µ –±–ª–æ–∫—É—î PWA —Ñ—É–Ω–∫—Ü—ñ—ó
- ‚úÖ Security headers –Ω–µ –ª–∞–º–∞—é—Ç—å PWA
```

---

## üìä –ê–í–¢–û–ú–ê–¢–ò–ó–û–í–ê–ù–Ü –¢–ï–°–¢–ò

### –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è –∑–∞–ø—É—Å–∫—É:

```bash
# –ë–µ–∑–ø–µ–∫–∞
npm audit                              # TC-SEC-001
npm run test:security                  # TC-SEC-002, TC-SEC-003
npm run test:cors                      # TC-SEC-004

# PWA
npm run test:pwa                       # TC-PWA-001, TC-PWA-002
npm run test:offline                   # TC-PWA-003
npm run test:notifications             # TC-PWA-004

# –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
npm run test:integration               # TC-INT-001

# –í—Å—ñ —Ç–µ—Å—Ç–∏
npm run test:stage6                    # –í—Å—ñ —Ç–µ—Å—Ç–∏ –µ—Ç–∞–ø—É 6
```

### Lighthouse PWA Audit:

```bash
# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Lighthouse CLI
npm install -g lighthouse

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ PWA –∞—É–¥–∏—Ç
lighthouse http://localhost:3000 --only-categories=pwa --output=json --output-path=./pwa-audit.json

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
cat pwa-audit.json | jq '.categories.pwa.score'
```

---

## üéØ –ö–†–ò–¢–ï–†–Ü–á –ü–†–ò–ô–ù–Ø–¢–¢–Ø

### –ë–µ–∑–ø–µ–∫–∞ (Security):

- ‚úÖ –í—Å—ñ security —Ç–µ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω—ñ (TC-SEC-001 –¥–æ TC-SEC-004)
- ‚úÖ –ù–µ–º–∞—î –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è—Ö
- ‚úÖ CSP –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ —Ç–∞ –ø—Ä–∞—Ü—é—î
- ‚úÖ Rate limiting –∞–∫—Ç–∏–≤–Ω–∏–π
- ‚úÖ CORS –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π

### PWA:

- ‚úÖ Service Worker –∞–∫—Ç–∏–≤–Ω–∏–π —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω—É—î (TC-PWA-001)
- ‚úÖ Manifest –≤–∞–ª—ñ–¥–Ω–∏–π —Ç–∞ –¥–æ–¥–∞—Ç–æ–∫ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è (TC-PWA-002, TC-PWA-005)
- ‚úÖ –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º –ø—Ä–∞—Ü—é—î (TC-PWA-003)
- ‚úÖ Push –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω—É—é—Ç—å (TC-PWA-004)
- ‚úÖ Lighthouse PWA score ‚â• 90

### –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è:

- ‚úÖ PWA —Ç–∞ security features —Å—É–º—ñ—Å–Ω—ñ (TC-INT-001)
- ‚úÖ –ù–µ–º–∞—î –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ –º—ñ–∂ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- ‚úÖ –í—Å—ñ API endpoints –ø—Ä–∞—Ü—é—é—Ç—å

---

## üìà –ú–ï–¢–†–ò–ö–ò –£–°–ü–Ü–•–£

### –ö—ñ–ª—å–∫—ñ—Å–Ω—ñ –ø–æ–∫–∞–∑–Ω–∏–∫–∏:

- üéØ **–ü–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏:** >85%
- üéØ **Lighthouse PWA Score:** ‚â•90
- üéØ **Security Headers Score:** A+ (securityheaders.com)
- üéØ **Mozilla Observatory:** A+
- üéØ **–ß–∞—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –æ—Ñ–ª–∞–π–Ω:** <2 —Å–µ–∫—É–Ω–¥–∏
- üéØ **–£—Å–ø—ñ—à–Ω—ñ—Å—Ç—å push –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å:** >95%

### –Ø–∫—ñ—Å–Ω—ñ –ø–æ–∫–∞–∑–Ω–∏–∫–∏:

- ‚úÖ –î–æ–¥–∞—Ç–æ–∫ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è —è–∫ PWA
- ‚úÖ –ü—Ä–∞—Ü—é—î –æ—Ñ–ª–∞–π–Ω
- ‚úÖ –ë–µ–∑–ø–µ—á–Ω–∏–π (–Ω–µ–º–∞—î —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π)
- ‚úÖ –®–≤–∏–¥–∫–∏–π —Ç–∞ responsive
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–∏–π (accessibility)

---

## üöÄ –ü–õ–ê–ù –í–ò–ö–û–ù–ê–ù–ù–Ø

### –§–∞–∑–∞ 1: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ (5 —Ö–≤–∏–ª–∏–Ω)

1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –≤—Å—ñ—Ö —Ñ–∞–π–ª—ñ–≤
2. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä —Ä–æ–∑—Ä–æ–±–∫–∏
3. –ü—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –§–∞–∑–∞ 2: Security —Ç–µ—Å—Ç–∏ (30 —Ö–≤–∏–ª–∏–Ω)

1. TC-SEC-001: –ê—É–¥–∏—Ç –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
2. TC-SEC-002: CSP –∑–∞–≥–æ–ª–æ–≤–∫–∏
3. TC-SEC-003: Rate limiting
4. TC-SEC-004: CORS

### –§–∞–∑–∞ 3: PWA —Ç–µ—Å—Ç–∏ (40 —Ö–≤–∏–ª–∏–Ω)

1. TC-PWA-001: Service Worker
2. TC-PWA-002: Manifest
3. TC-PWA-003: –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º
4. TC-PWA-004: Push –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
5. TC-PWA-005: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### –§–∞–∑–∞ 4: –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è (10 —Ö–≤–∏–ª–∏–Ω)

1. TC-INT-001: PWA + Security
2. Lighthouse –∞—É–¥–∏—Ç
3. –§—ñ–Ω–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞

**–ó–∞–≥–∞–ª—å–Ω–∏–π —á–∞—Å:** 1 –≥–æ–¥–∏–Ω–∞ 25 —Ö–≤–∏–ª–∏–Ω

---

## üìù –ó–í–Ü–¢–ù–Ü–°–¢–¨

### –§–æ—Ä–º–∞—Ç –∑–≤—ñ—Ç—É:

```markdown
# –ó–≤—ñ—Ç –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è - –ï—Ç–∞–ø 6

## –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ Security —Ç–µ—Å—Ç—ñ–≤:

- TC-SEC-001: ‚úÖ/‚ùå [–¥–µ—Ç–∞–ª—ñ]
- TC-SEC-002: ‚úÖ/‚ùå [–¥–µ—Ç–∞–ª—ñ]
- TC-SEC-003: ‚úÖ/‚ùå [–¥–µ—Ç–∞–ª—ñ]
- TC-SEC-004: ‚úÖ/‚ùå [–¥–µ—Ç–∞–ª—ñ]

## –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ PWA —Ç–µ—Å—Ç—ñ–≤:

- TC-PWA-001: ‚úÖ/‚ùå [–¥–µ—Ç–∞–ª—ñ]
- TC-PWA-002: ‚úÖ/‚ùå [–¥–µ—Ç–∞–ª—ñ]
- TC-PWA-003: ‚úÖ/‚ùå [–¥–µ—Ç–∞–ª—ñ]
- TC-PWA-004: ‚úÖ/‚ùå [–¥–µ—Ç–∞–ª—ñ]
- TC-PWA-005: ‚úÖ/‚ùå [–¥–µ—Ç–∞–ª—ñ]

## –ú–µ—Ç—Ä–∏–∫–∏:

- Lighthouse PWA Score: XX/100
- Security Headers Score: X+
- –ü–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏: XX%

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:

[–°–ø–∏—Å–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è]
```

---

**–°—Ç–≤–æ—Ä–µ–Ω–æ:** $(date)
**–í–µ—Ä—Å—ñ—è:** 1.0
**–°—Ç–∞—Ç—É—Å:** üîÑ Ready for Execution
